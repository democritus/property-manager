<div class="row">
  <%= f.label 'Listing type' %>
  <%= f.radio_button :listing_type_id,
    @lists[:listing_types][0][1],
    { :label => @lists[:listing_types][0][0],
      :onclick => "Effect.Appear('for_sale_fields', { duration: 1.0 });" } %>
  <%= f.radio_button :listing_type_id,
    @lists[:listing_types][1][1],
    { :label => @lists[:listing_types][1][0],
      :onclick => "Effect.Fade('for_sale_fields', { duration: 1.0 });" } %>
</div>
<div class="row">
  <%= f.text_field :label,
    :label_text => 'Label (short description identifying this listing, i.e. "for rent")' %>
</div>
<div class="row">
  <%= f.select :agency_id, @lists[:agencies] %>
</div>
<div class="row clearfix">
  <div class="inline-form-element">
    <%= f.check_box :approved %>
  </div>
  <div class="inline-form-element">
    <%= f.check_box :show_agency %>
  </div>
  <div class="inline-form-element">
    <%= f.check_box :show_agent %>
  </div>
</div>
<div class="row">
  <%= f.text_field :ask_amount %>
</div>
<div class="row">
  <%= f.select :ask_currency_id, @lists[:currencies] %>
</div>
<% for_sale_fields_style = '' %>
<% unless @listing.listing_type_id == 1 %>
  <% for_sale_fields_style = ' style="display: none"' %>
<% end %>
<div id="for_sale_fields"<%= for_sale_fields_style %>>
  <div class="row">
    <%= f.check_box :sold %>
  </div>
  <div class="row">
    <%= f.text_field :close_amount %>
  </div>
  <div class="row">
    <%= f.select :close_currency_id, @lists[:currencies] %>
  </div>
</div>
<div class="row">
  <%= f.date_select :publish_date %>
</div>
<div class="row">
  <%= f.date_select :listing_expiration_date %>
</div>
<div class="row">
  <%= f.date_select :contract_expiration_date %>
</div>
<div class="row">
  <%= f.text_area :admin_notes %>
</div>

<div class="row show-more">
  <%= image_tag 'right_arrow_black.png' %> <span>show override fields</span>
</div>
<h3>Override Property Data</h3>
<strong>WARNING: The following fields will override the data that has already
been defined in this listing's <%= link_to 'property' %> record.</strong>
<div class="row">
  <%= f.text_field :name %>
</div>
<div class="row">
  <%= f.text_area :description %>
</div>
<div class="row">
  <%= f.date_select :date_available %>
</div>
<div class="row">
  <%= f.select :primary_category_id,
    @lists[:categories_with_none],
    { :label_text => 'Primary category' } %>
</div>
<div class="row">
  <label for="category_ids">Other categories</label>
  <%= multiple_select 'listing',
    'category_ids',
    @lists[:categories],
    { :selected_items => @selected[:category_ids],
      :outer_class => 'multiple_select',
      :inner_class => 'multiple_select_checkbox' 
    } %>
</div>
<div class="row">
  <%= f.select :primary_style_id,
    @lists[:styles_with_none],
    { :label_text => 'Primary style' } %>
</div>
<div class="row">
  <label for="style_ids">Other styles</label>
  <%= multiple_select 'listing',
    'style_ids',
    @lists[:styles],
    { :selected_items => @selected[:style_ids],
      :outer_class => 'multiple_select',
      :inner_class => 'multiple_select_checkbox' 
    } %>
</div>
<div class="row">
  <label for="feature_ids">Features</label>
  <%= multiple_select 'listing',
    'feature_ids',
    @lists[:features],
    { :selected_items => @selected[:feature_ids],
      :outer_class => 'multiple_select',
      :inner_class => 'multiple_select_checkbox'
    } %>
</div>
